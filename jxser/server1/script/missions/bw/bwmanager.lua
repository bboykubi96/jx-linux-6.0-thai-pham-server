Include("\\script\\task\\newtask\\branch\\branch_bwsj.lua")
Include("\\script\\missions\\bw\\bwhead.lua");

WLLS_FORBID_ITEM = {
	{	"C«ng Tèc hoµn", {6, 1, 218, -1, 0, 0}, 511	},
	{	"Bµo Tèc hoµn", {6, 1, 219, -1, 0, 0}, 512	},
	{	"Phæ Phßng hoµn", {6, 1, 220, -1, 0, 0}, 513	},
	{	"§éc Phßng hoµn", {6, 1, 221, -1, 0, 0}, 514	},
	{	"B¨ng Phßng hoµn", {6, 1, 222, -1, 0, 0}, 515	},
	{	"Háa Phßng hoµn", {6, 1, 223, -1, 0, 0}, 516	},
	{	"L«i Phßng hoµn", {6, 1, 224, -1, 0, 0}, 517	},
	{	"Gi¶m Th­¬ng hoµn", {6, 1, 225, -1, 0, 0}, 518	},
	{	"Gi¶m H«n hoµn", {6, 1, 226, -1, 0, 0}, 519	},
	{	"Gi¶m §éc hoµn", {6, 1, 227, -1, 0, 0}, 520	},
	{	"Gi¶m B¨ng hoµn", {6, 1, 228, -1, 0, 0}, 521	},
	{	"Phæ C«ng hoµn", {6, 1, 229, -1, 0, 0}, 522	},
	{	"§éc C«ng hoµn", {6, 1, 230, -1, 0, 0}, 523	},
	{	"B¨ng C«ng hoµn", {6, 1, 231, -1, 0, 0}, 524	},
	{	"Háa C«ng hoµn", {6, 1, 232, -1, 0, 0}, 525	},
	{	"L«i C«ng hoµn", {6, 1, 233, -1, 0, 0}, 526	},
	{	"Tr­êng MÖnh hoµn", {6, 1, 234, -1, 0, 0}, 527	},
	{	"Tr­êng Néi hoµn", {6, 1, 235, -1, 0, 0}, 528	},
	{	"Yªn Hång ®an", {6, 1, 115, -1, 0, 0}, 450	},
	{	"X¸ Lam ®an", {6, 1, 116, -1, 0, 0}, 451	},
	{	"Néi Phæ hoµn", {6, 1, 117, -1, 0, 0}, 453	},
	{	"Néi §éc hoµn", {6, 1, 118, -1, 0, 0}, 454	},
	{	"Néi B¨ng hoµn", {6, 1, 119, -1, 0, 0}, 455	},
	{	"Néi Háa hoµn", {6, 1, 120, -1, 0, 0}, 456	},
	{	"Néi L«i hoµn", {6, 1, 121, -1, 0, 0}, 457	},
	{	"Tr­êng MÖnh hoµn", {6, 0, 1, -1, 0, 0}, 256	},
	{	"Gia Bµo hoµn", {6, 0, 2, -1, 0, 0}, 257	},
	{	"§¹i Lùc hoµn", {6, 0, 3, -1, 0, 0}, 258	},
	{	"§¹i Lùc hoµn", {6, 0, 4707, -1, 0, 0}, 258	},
	{	"Phi Tèc hoµn", {6, 0, 4710, -1, 0, 0}, 261	},
	{	"Cao ThiÓm hoµn", {6, 0, 4, -1, 0, 0}, 259	},
	{	"Cao Trung hoµn", {6, 0, 5, -1, 0, 0}, 260	},
	{	"Phi Tèc hoµn", {6, 0, 6, -1, 0, 0}, 261	},
	{	"B¨ng Phßng hoµn", {6, 0, 7, -1, 0, 0}, 262	},
	{	"L«i Phßng hoµn", {6, 0, 8, -1, 0, 0}, 263	},
	{	"Háa Phßng hoµn", {6, 0, 9, -1, 0, 0}, 264	},
	{	"§éc Phßng hoµn", {6, 0, 10, -1, 0, 0}, 265	},
	{	"B¸nh ch­ng H¹t dÎ ", {6, 0, 60, -1, 0, 0}, 401	},
	{	"B¸nh ch­ng ThÞt heo", {6, 0, 61, -1, 0, 0}, 402	},
	{	"B¸nh ch­ng ThÞt bß ", {6, 0, 62, -1, 0, 0}, 403	},
	{	"B¸ch Qu¶ Lé ", {6, 1, 73, -1, 0, 0}, 442	},
	{	"C¸t t­êng hång bao", {6, 1, 19, -1, 0, 0}, 442	},
	{	"Hoµng Kim B¶o r­¬ng",	{6,	1,	69,	-1,	0,	0},	442},
	{	"TÝn Sø Méc yªu bµi",	{6,	1,	885,	-1,	0	,0},	542},
	{	"TÝn Sø §ång yªu bµi",	{6,	1,	886,	-1,	0	,0},	543},
	{	"TÝn Sø Ng©n yªu bµi",	{6,	1,	887,	-1,	0	,0},	544},
	{	"TÝn Sø Kim yªu bµi",	{6,	1,	888,	-1,	0	,0},	545},
	{	"Ngù Tø TÝn Sø yªu bµi",	{6,	1,	889,	-1,	0	,0},	546},
	{	"Bao D­îc hoµn ",	{6,	1,	910,	-1,	0	,0},	635},
	{	"Hép lÔ vËt Hång bao thÇn bÝ",	{6,	1,	1074,	-1,	0	,0},	635},
	{	"Hép lÖ vËt [qu¶ Huy Hoµng]",	{6,	1,	1075,	-1,	0	,0},	635},
	{	"H×nh ném",		{6,	1,	1389,	-1,	0,	0},	635	},
	--tinhpn 20100720: forbid item
	{	"CÈm nang thay ®æi trêi ®Êt", {6, 1, 1781, -1, 0, 0},635},	
	{	"Méc ChÕ B¶o H¹p", {6, 1, 2318, -1, 0, 0},635},	
	{	"§ång ChÕ B¶o H¹p", {6, 1, 2319, -1, 0, 0},635},	
	{	"Ng©n ChÕ B¶o H¹p", {6, 1, 2320, -1, 0, 0},635},	
	{	"Hoµng Kim B¶o r­¬ng", {6, 1, 2321, -1, 0, 0},635},	
	{	"B¶o r­¬ng B¹ch Kim", {6, 1, 2322, -1, 0, 0},635},	
	{	"S¸t Thñ BÝ B¶o", {6, 1, 2347, -1, 0, 0},635},	
	{	"B¶o r­¬ng thÇn bÝ cña D· TÈu", {6, 1, 2374, -1, 0, 0},635},	
	{	"ChÝ T«n BÝ B¶o", {6, 1, 2375, -1, 0, 0},635},	
	{	"Tµi B¶o Thñy TÆc", {6, 1, 2376, -1, 0, 0},635},	
	{	"Håi thiªn t¸i t¹o lÔ bao", {6, 1, 2527, -1, 0, 0},635},
	{	"Phi tèc hoµn lÔ bao", {6, 1, 2520, -1, 0, 0},635},
	{	"§¹i lùc hoµn lÔ bao", {6, 1, 2517, -1, 0, 0},635},
	--Updated by DinhHQ - 20110425
	{	"C«ng Thµnh ChiÕn LÔ Bao", {6, 1, 2377, -1, 0, 0},635},
	{	"§éc phßng hoµn lÔ bao", {6, 1, 2524, -1, 0, 0},635},
	{	"Tr­êng mÖnh hoµn lÔ bao", {6, 1, 2515, -1, 0, 0},635},
	{	"Gia tèc hoµn lÔ bao", {6, 1, 2516, -1, 0, 0},635},
	{	"Cao thiÓm hoµn lÔ bao", {6, 1, 2518, -1, 0, 0},635},
	{	"Cao trung hoµn lÔ bao", {6, 1, 2519, -1, 0, 0},635},
	{	"Phi tèc hoµn lÔ bao", {6, 1, 2520, -1, 0, 0},635},
	{	"B¨ng phßng hoµn lÔ bao", {6, 1, 2521, -1, 0, 0},635},
	{	"L«i phßng hoµn lÔ bao", {6, 1, 2522, -1, 0, 0},635},
	{	"Háa phßng hoµn lÔ bao", {6, 1, 2523, -1, 0, 0},635},
	{	"§éc phßng hoµn lÔ bao", {6, 1, 2524, -1, 0, 0},635},
	{	"LÖnh bµi vi s¬n ®¶o lÔ bao", {6, 1, 2525, -1, 0, 0},635},
	{	"Hoµn Hån §¬n LÔ Bao", {6, 1, 2830, -1, 0, 0},635},
		{	"Tiªu Diªu T¸n", {6, 1, 2831, -1, 0, 0},635},
	 { "Håi thiªn t¸i t¹o lÔ bao(900)", {6, 1, 4832, -1, 0, 0},635},
	 { "Håi thiªn t¸i t¹o lÔ bao(300)", {6, 1, 4903, -1, 0, 0},635},
	 { "KÝch C«ng Trî Lùc Hoµn", {6, 1, 2952, -1, 0, 0},635}, 
	 { "¢m D­¬ng Ho¹t HuyÕt §¬n", {6, 1, 2953, -1, 0, 0},635},
	 { "LÖnh bµi T©n Thñ", {6, 1, 4265, -1, 0, 0},635},
	 { "Xu khãa", {6, 1, 4893, -1, 0, 0},635},
}
szCaptainName = {};
function main()
do Talk(1, "", "L«i ®µi t¹m thêi ch­a më.") return end
	--ÉèÖ··µ»Øµã
	x,y,z = GetWorldPos();
	SetTask(BW_SIGNPOSWORLD, x);
	SetTask(BW_SIGNPOSX, y);
	SetTask(BW_SIGNPOSY, z);
	szCaptainName = bw_getcaptains(); --»ñÈ¡¸½¶Ó¶Ó³¤µÄ·û×Ö£»

	idx = SubWorldID2Idx(BW_COMPETEMAP[1]);
	if (idx == -1) then
		ErrorMsg(3) 
		return
	end;
	
	OldSubWorld = SubWorld;
	SubWorld = idx;
	local MemberCount =GetMissionV(MS_MAXMEMBERCOUNT)
	ms_state = GetMissionV(MS_STATE);
	if (ms_state == 0) then 
		Say("N¬i ®©y lµ ®Êu tr­êng thi ®Êu l«i ®µi, n¬i c¸c nh©n sÜ trªn giang hå ®¬n ®Êu hoÆc tæ chøc thi ®Êu ®éi. HiÖn t¹i ch­a cã ai b¸o danh thi ®Êu, c¸c h¹ cã muèn b¸o danh kh«ng<color=yellow>HiÖn t¹i më miÔn phÝ l«i ®µi<color>", 3, "§­îc th«i/OnRegister", "Quy t¾c thi ®Êu ra sao?/OnHelp", "§Ó suy nghÜ c¸i ®·!/OnCancel");
	elseif (ms_state == 1) then
		Say("§©y lµ diÖn vâ tr­êng, §éi<color=yellow>"..szCaptainName[1].."<color>cïng ®éi<color=yellow>"..szCaptainName[2].."<color> tranh tµi<color=yellow>"..MemberCount.." vs "..MemberCount.."<color>, Ng­¬i cã yªu cÇu g×?",4,"Ta lµ tuyÓn thñ, muèn th­îng l«i ®µi./OnEnterMatch", "Ta lµ kh¸n gi¶, muèn vµo xem thi ®Êu./OnShowKey", "Ta muèn xem thi ®Êu./OnLook", "Ta kh«ng cã høng thó./OnCancel")
	elseif (ms_state == 2) then 
		OnFighting();
	else
		ErrorMsg(2)
	end;
	SubWorld = OldSubWorld;
end;

function OnRegister()
	--±¨·û
	if (GetTeamSize()  ~= 2) then
		Say("Muèn ghi danh ph¶i lµ<color=yellow>§éi tr­ëng<color> §éi cña c¸c h¹ kh«ng ®ñ<color=yellow>2<color>ng­êi.", 0);
		return
	end;

	if (IsCaptain() ~= 1) then 
		ErrorMsg(5)
		return
	end;

	Say("C¸c h¹ muèn ®Êu l«i ®µi, sè ng­êi nhiÒu nhÊt mçi bªn lµ bao nhiªu", 9, "Rêi khái!/OnCancel", "1 vs 1/#SignUpFinal(1)", "2 vs 2/#SignUpFinal( 2 )", "3 vs 3/#SignUpFinal( 3 )","4 vs 4/#SignUpFinal( 4 )","5 vs 5/#SignUpFinal( 5 )","6 vs 6/#SignUpFinal( 6 )","7 vs 7/#SignUpFinal( 7 )","8 vs 8/#SignUpFinal( 8 )");
end;

function SignUpFinal(MemberCount)
	if (GetTeamSize()  ~= 2) then
		Say("Muèn ghi danh ph¶i lµ <color=yellow>§éi tr­ëng<color> §éi cña c¸c h¹ kh«ng ®ñ<color=yellow>2<color> ng­êi.", 0);
		return
	end;
	
	if (MemberCount <= 0 or MemberCount > 8) then
		return
	end
	
	local OldSubWorld = SubWorld;
	SubWorld = SubWorldID2Idx(BW_COMPETEMAP[1]);
	ms_state = GetMissionV(MS_STATE);

	if (ms_state ~= 0) then 
		ErrorMsg(8)
		return
	end
	OpenMission(BW_MISSIONID);
	local x = GetTask(BW_SIGNPOSWORLD);
	if x == 80 then
		SetMissionS(CITYID,"ÑïÖÝ")
	elseif x == 78 then
		SetMissionS(CITYID,"ÏåÑô")
	else
		SetMissionS(CITYID,"³É¶¼")
	end;
	
	local key = {};
	key = bw_getkey();
	SetMissionV(MS_TEAMKEY[1], key[1]);
	SetMissionV(MS_TEAMKEY[2], key[2]);
	
	OldPlayerIndex = PlayerIndex;
	for i = 1, 2 do 
		PlayerIndex = GetTeamMember(i);
		SetMissionS(i, GetName());
		szCaptainName = bw_getcaptains(); --»ñÈ¡¸½¶Ó¶Ó³¤µÄ·û×Ö£»
		if (MemberCount > 1) then
			Msg2Player("C¸c h¹ muèn thi ®Êu víi ®éi h×nh: <color=yellow> ["..key[i].."]<color>, sè thµnh viªn. Thµnh viªn ®­îc C«ng B×nh Tö ®­a vµo DiÖn vâ tr­êng lµ sÏ ®­îc thi ®Êu.");			
			local szMsg = format("C«ng b×nh tö: ë ®©y %s cïng %s ghi danh tranh tµi , nhanh vµo DiÖn vâ tr­êng , trËn ®Êu %d phót sau chÝnh thøc b¾t ®Çu . TrËn thi ®Êu sè :",MemberCount, MemberCount, floor(GO_TIME/3),key[i])
			Say(szMsg,0)
			
		end
		branchTask_BW1()	--ºÝÈÎÎñÏµ¹Ø£¬²Î¼Ó¸Ë±ÈÈü½øÐÐ¼ÆÊý
	end;
	
	PlayerIndex = OldPlayerIndex;
	SetMissionV(MS_MAXMEMBERCOUNT, MemberCount)
	SubWorld = OldSubWorld;
	str = "<#> B©y giê"..GetMissionS(CITYID)..szCaptainName[1].."§éi<#> tranh tµi cïng"..szCaptainName[2].."§éi<#>, L«i ®µi chuÈn bÞ b¾t ®Çu, hai ®éi tr­ëng lµ"..szCaptainName[1].."<#>cïng"..szCaptainName[2].."<#>. L«i ®µi më cöa miÔn phÝ, xin mêi c¸c vÞ h¶o höu ®Õn xem.";
	--AddGlobalNews(str);
	local szMsg = format("C¸c thµnh viªn ®· ghi danh ë %s cïng %s tranh tµi , nhanh chãng vµo l«i ®µi , %d phót sau tranh tµi chÝnh thøc b¾t ®Çu.",MemberCount, MemberCount, floor(GO_TIME/3))
	Msg2Team(szMsg);
end;

function bw_getkey()
	local key = {};
	key[1] = random(1, 9999)
	key[2] = random(1, 9999)
	
	--±£Ö¤key1 key2>0, key1 ~= key2
	if (key[2] == key[1]) then
		if (key[1] < 9996) then
			key[2] = key[1] + 3
		else
			key[2] = key[1] - 3;
		end
	end
	return key;
end;



function OnHelp()
	Talk(5, "",	"L«i ®µi lµ n¬i ®Ó c¸c cao thñ thi thè tµi nghÖ víi nhau vµ còng lµ n¬i thi ®Êu c«ng b»ng nhÊt cho ®«i bªn.",	"Muèn tham gia thi ®Êu l«i ®µi, tr­íc hÕt ph¶i ®Õn chç ta ghi danh.",	"Sau khi ®Æt c­îc xong, b¸o danh tham gia l«i ®µi sÏ hoµn tÊt. Lý do ®Êu tr­êng cã giíi h¹n nªn trong lóc ng­êi kh¸c ®ang thi ®Êu, th× ng­êi kh¸c kh«ng thÓ b¸o danh !",	format("Sau khi ®¨ng ký thµnh c«ng, hai bªn cã thÓ vµo khu vùc chuÈn bÞ, thêi gian chuÈn bÞ lµ <color=yellow>%d<color> phót, sau khi thêi gian chuÈn bÞ kÕt thóc, trËn ®Êu sÏ chÝnh thøc b¾t ®Çu!", floor(GO_TIME/3)) , 	format("C«ng B×nh Tö: thêi gian thi ®Êu lµ <color=yellow>%d<color> phót, nÕu trong <color=yellow>%d<color> phót kh«ng x¸c ®Þnh ®­îc ®éi th¾ng, trËn ®Êu sÏ ®­îc x÷ hßa.", floor(TIMER_2/(60*FRAME2TIME))-floor(GO_TIME/3), floor(TIMER_2/(60*FRAME2TIME))-floor(GO_TIME/3) ));
end;

function OnEnterMatch()
-------------------------------------------------------------------------------------

	local forbiditem_con = 0
	local forbiditem_key = 0
	local keyitem = {}
	local keyitem_g = {}
	local keyitem_d = {}
	local keyitem_p = {}
	for i = 1, 3 do
		keyitem[i] = ITEM_GetImmediaItemIndex (i)
		if (keyitem[i] ~= 0) then
			keyitem_g[i], keyitem_d[i], keyitem_p[i] = GetItemProp(keyitem[i])
		else
			keyitem_g[i] = 0
			keyitem_d[i] = 0
			keyitem_p[i] = 0
		end
	end
	for i = 1, getn(WLLS_FORBID_ITEM) do
		forbiditem_con = CalcEquiproomItemCount( WLLS_FORBID_ITEM[i][2][1], WLLS_FORBID_ITEM[i][2][2], WLLS_FORBID_ITEM[i][2][3], WLLS_FORBID_ITEM[i][2][4] )
		if (forbiditem_con > 0) then
			break
		end
		forbiditem_con = CalcItemCount( 1, WLLS_FORBID_ITEM[i][2][1], WLLS_FORBID_ITEM[i][2][2], WLLS_FORBID_ITEM[i][2][3], WLLS_FORBID_ITEM[i][2][4] )
		if (forbiditem_con > 0) then
			break
		end
		for j = 1, 3 do 
			if (keyitem_g[j] == WLLS_FORBID_ITEM[i][2][1] and keyitem_d[j] == WLLS_FORBID_ITEM[i][2][2] and keyitem_p[j] == WLLS_FORBID_ITEM[i][2][3]) then
				forbiditem_key = 1
				break
			end
		end
	end
	if(forbiditem_con > 0 or forbiditem_key > 0) then
		Say("L«i ®µi lµ n¬i thi thè tµi n¨ng c«ng b»ng! Kh«ng ®­îc mang thuèc trî lùc vµo ®©y h·y kiÓm tra l¹i hµnh trang ! kh«ng ®­îc gian lËn !", 0)
		return nil
	end
-----------------------------------------------------------------------------
	local OldSubWorld = SubWorld;
	SubWorld = SubWorldID2Idx(BW_COMPETEMAP[1]);
	if (SubWorld < 0) then
		return
	end;
	
	if ((GetName() == szCaptainName[1]) or (GetName() == szCaptainName[2])) then 
		OnJoin(0)	--ÕâµïºÅ¢ëÊ²·´¶¼¿ÉÒÔ the only param stand for the group ID;
	else
		Say("Xin mêi nhËp sè lÇn thi ®Êu",2, "H·y khoan,cho ta lªn/OnEnterKey", "Ta kh«ng nhí, chê mét chót ®Ó ta hái §éi tr­ëng/OnCancel")
	end;
	SubWorld = OldSubWorld;
end

function OnEnterKey()
	AskClientForNumber("OnEnterKey1", 0, 10000, "Xin mêi nhËp sè thø tù:");
end

function OnEnterKey1(Key)

	local OldSubWorld = SubWorld;
	SubWorld = SubWorldID2Idx(BW_COMPETEMAP[1]);
	if (SubWorld < 0) then
		SubWorld = OldSubWorld;
		return
	end;

	if (Key == GetMissionV(MS_TEAMKEY[1])) then
		OnJoin(1)
	elseif (Key == GetMissionV(MS_TEAMKEY[2])) then
		OnJoin(2)
	else
		Say("C¸c h¹ ®· nhËp sai, hoÆc hái §éi tr­ëng ®Ó x¸c ®Þnh l¹i, xin c¸m ¬n!",0)
	end
	SubWorld = OldSubWorld;
end

function OnLook()
	do return Say("§¸nh nh­ ccc hä xem lµm c¸i g× cho mÊt thêi gian.",0) end
	idx = SubWorldID2Idx(BW_COMPETEMAP[1]);
	OldSubWorld = SubWorld;
	SubWorld = idx;
	local str = szCaptainName[1].."§éi<#> ºÝ "..szCaptainName[2].."§éi <#> §· s½n sµng thi ®Êu, ai sÏ lµ ng­êi chiÕn th¾ng cuèi cïng kh«ng?";
	local str1 = "Ta muèn vµo l«i ®µi<#> xem/onwatch";
	Say(str, 2, str1, "Kh«ng ph¶i l­ît cña ta,ta kh«ng vµo/OnCancel");
	SubWorld = OldSubWorld;
end;

function onwatch()
	OldSubWorld = SubWorld;
	local idx = SubWorldID2Idx(BW_COMPETEMAP[1]);
	if (idx == -1) then
		return
	end;
	SubWorld = idx;
	if (GetName() == szCaptainName[1]) or (GetName() == szCaptainName[2]) then 
		SubWorld = OldSubWorld
		OnJoin(0)	--¶Ó³¤²»ÄÜ½øÐÐ¹ÛÕ½
	else
		OnJoin(3);	--¼ÓÈëµ½¹ÛÖóµÄ
	end;
end

--to join in a fight group	group --×é
function OnJoin(group)
	idx = SubWorldID2Idx(BW_COMPETEMAP[1]);
	if (idx < 0) then
		return
	end;
	OldSubWorld = SubWorld;
	SubWorld = idx;
	if (GetName() == szCaptainName[1]) then 
		JoinCamp(1)
	elseif (GetName() == szCaptainName[2]) then 
		JoinCamp(2)
	elseif (group == 1 or group == 2) then
		local masteridx = SearchPlayer(GetMissionS(group))
		local masternum = 0
		if (masteridx > 0) then
			if (PIdx2MSDIdx(BW_MISSIONID, masteridx) > 0) then
				masternum = 1
			end
		end
		if (GetMSPlayerCount(BW_MISSIONID, group) - masternum < GetMissionV(MS_MAXMEMBERCOUNT) - 1) then
			JoinCamp(group)
		else
			ErrorMsg(10)
		end;
	elseif (group == 3) then
		JoinCamp(3);
	else
		ErrorMsg(4)
	end;
	SubWorld=OldSubWorld;
end;

function OnFighting()
	str = "<#> HiÖn thêi"..szCaptainName[1].."§éi<#> vµ"..szCaptainName[2].."§éi<#> ®ang thi ®Êu. ";
	Say(str, 1, "Quay l¹i sau. /OnCancel");
end;

function OnCancel()
end;

function ErrorMsg(ErrorId)
	if (ErrorId == 1) then 
		Say("Muèn b¸o danh ph¶i häp thµnh ®éi sau ®ã míi cã thÓ b¸o danh",0)
	elseif (ErrorId == 2) then 
		Say("Tham gia thi ®Êu ph¶i mang ®ñ ng©n l­îng",0)
	elseif (ErrorId == 3) then 
		Say("B¸o danh bÞ lçi, xin mêi liªn hÖ GM!",0);
	elseif (ErrorId == 4) then 
		Say("C¸c h¹ kh«ng ph¶i lµ tuyÓn thñ ®· b¸o danh v× vËy kh«ng thÓ vµo l«i ®µi, xin h·y ®øng ngoµi xem", 0);
	elseif (ErrorId == 5) then 
		Say("Ng­êi b¸o danh ph¶i lµ §éi tr­ëng",0);
	elseif (ErrorId == 6) then 
		Say("Ng­¬i mang kh«ng ®ñ ng©n l­îng",0);
	elseif (ErrorId == 7) then 
		Say("Kh«ng ®­îc, c¸c h¹ cßn ®ang tham gia tranh tµi!",0);
	elseif (ErrorId == 8) then
		Say("²Kh«ng ®­îc, ®· cã ng­êi ghi danh thi ®Êu!",0);
	elseif (ErrorId == 9) then 
		Say("Kh«ng ®­îc, l«i ®µi ®· b¾t ®Çu, c¸c h¹ kh«ng thÓ ®ãng phÝ!",0);
	elseif (ErrorId == 10) then 
		Say("Sè ng­êi thi ®Êu ®· ®ñ!",0);
	else
		
	end;
	return
end;


