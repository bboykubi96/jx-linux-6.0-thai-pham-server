IncludeLib("ITEM")
Include("\\script\\lib\\awardtemplet.lua")
Include("\\script\\lib\\log.lua")
----------------------------------------------
tbAward = {
	[1] = {
		{szName="Vò LiÖt Chi B¾c ThÇn Kh«i",tbProp={0,5119},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=4320},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5120},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=4320},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5121},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=4320},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5122},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=4320},
		{szName="Tø BÊt T­îng",tbProp={0,5123},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=4320},
		{szName="MÆc VËn Kim Søc",tbProp={0,5124},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=4320},
		{szName="XÝch VÜ Kim Søc",tbProp={0,random(5019,5020)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=4320},
		{szName="TuyÕt Vùc Ng©n Hån",tbProp={0,random(5053,5054)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=4320},
		
	},
	[2] = {
		{szName="Vò LiÖt Chi B¾c ThÇn Kh«i",tbProp={0,5114},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=10080},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5115},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=10080},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5116},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=10080},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5117},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=10080},
		{szName="Tø BÊt T­îng",tbProp={0,5118},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=10080},
		{szName="MÆc VËn Kim Søc",tbProp={0,random(5239,5248)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=10080},
		{szName="XÝch VÜ Kim Søc",tbProp={0,random(5019,5020)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=10080},
		{szName="TuyÕt Vùc Ng©n Hån",tbProp={0,random(5053,5054)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=10080},
		
	},
	[3] = {
		{szName="Vò LiÖt Chi B¾c ThÇn Kh«i",tbProp={0,5109},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=20160},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5110},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=20160},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5111},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=20160},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,5112},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=20160},
		{szName="Tø BÊt T­îng",tbProp={0,5113},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=20160},
		{szName="MÆc VËn Kim Søc",tbProp={0,random(5239,5248)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=20160},
		{szName="XÝch VÜ Kim Søc",tbProp={0,random(5019,5020)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=20160},
		{szName="TuyÕt Vùc Ng©n Hån",tbProp={0,random(5053,5054)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=20160},
		
	},
	[4] = {
		{szName="Vò LiÖt Chi B¾c ThÇn Kh«i",tbProp={0,5119},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=43200},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,8899},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=43200},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,8900},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=43200},
		{szName="Vò LiÖt Chi TËp ",tbProp={0,8901},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=43200},
		{szName="Tø BÊt T­îng",tbProp={0,8902},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=43200},
		{szName="MÆc VËn Kim Søc",tbProp={0,random(5239,5248)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=43200},
		{szName="XÝch VÜ Kim Søc",tbProp={0,random(5019,5020)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=43200},
		{szName="TuyÕt Vùc Ng©n Hån",tbProp={0,random(5053,5054)},nCount=1,nQuality=1,nRate=8.333333333333333,nExpiredTime=43200},
		
	},
}

function main(nItemIdx)
local free = FindFreeRoomByWH(3, 3)
local G,D,P,nLevel = GetItemProp(nItemIdx)
	if (G ~= 6) then
		return 1
	end
	
	if (P == 30140) then
		if (free ~= 1) then
			Talk(1,"","H·y S¾p XÕp L¹i Hµnh Trang (3 x 3) ¤ Råi Më")
			return 1
		end
		tbAwardTemplet:GiveAwardByList(tbAward[1],"Tói Thó C­ìi 3 Ngµy")
	end

	if (P == 30141) then
		if (free ~= 1) then
			Talk(1,"","H·y S¾p XÕp L¹i Hµnh Trang (3 x 3) ¤ Råi Më")
			return 1
		end
		tbAwardTemplet:GiveAwardByList(tbAward[2],"Tói Thó C­ìi 7 Ngµy")
	end

	if (P == 30142) then
		if (free ~= 1) then
			Talk(1,"","H·y S¾p XÕp L¹i Hµnh Trang (3 x 3) ¤ Råi Më")
			return 1
		end
		tbAwardTemplet:GiveAwardByList(tbAward[3],"Tói Thó C­ìi 14 Ngµy")
	end

	if (P == 75357) then
		if (free ~= 1) then
			Talk(1,"","H·y S¾p XÕp L¹i Hµnh Trang (3 x 3) ¤ Råi Më")
			return 1
		end
		tbAwardTemplet:GiveAwardByList(tbAward[4],"Tói Thó C­ìi 30 Ngµy")
	end
end
